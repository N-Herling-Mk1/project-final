{
  "hash": "fb4bbd27ab03e0b40dbe5d18aa835d6c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Water insecurity in the U.S. - indoor plumbing\"\nsubtitle: \"Proposal\"\nauthor: \n  - name: \"Team: Yashi Mi & Nathan Herling\"\n    affiliations:\n      - name: \"School of Information, University of Arizona\"\ndescription: \"Project description\"\nformat:\n  html:\n    code-tools: true\n    code-overflow: wrap\n    code-line-numbers: true\n    embed-resources: true\neditor: visual\ncode-annotations: hover\nexecute:\n  warning: false\n---\n\n\n\n\n## Packages Setup\n<details>\n  <summary>Installed Packages</summary>\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# - loading package manager\nif (!require(pacman))\n  install.packages(pacman)\n\n# - loading required packages\npacman::p_load(tidyverse,\n               here,\n               tibble)\n```\n:::\n\n\n\n</details>\n## Dataset\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load water insecurity data from the TidyTuesday project (2025-01-28)\n# This dataset explores social vulnerability and access to complete indoor plumbing across U.S. counties,\n# curated by Niha Pereira and featured in the blog post:\n# \"Mapping water insecurity in R with tidycensus\"\n# Original data sources include the U.S. Census Bureau (ACS) and the USGS Vizlab’s\n# “Unequal Access to Water” visualization.\n# Repo: https://github.com/rfordatascience/tidytuesday/tree/main/data/2025/2025-01-28\nwater_insecurity_2022 <- read_csv(here(\"water_insecurity\",\"water_insecurity_2022.csv\"))\nwater_insecurity_2023 <- read_csv(here(\"water_insecurity\",\"water_insecurity_2023.csv\"))\nglimpse(water_insecurity_2022)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 848\nColumns: 7\n$ geoid                    <chr> \"01069\", \"04001\", \"06037\", \"06097\", \"06001\", …\n$ name                     <chr> \"Houston County, Alabama\", \"Apache County, Ar…\n$ year                     <dbl> 2022, 2022, 2022, 2022, 2022, 2022, 2022, 202…\n$ geometry                 <chr> \"list(list(c(975267.980555021, 975512.9445474…\n$ total_pop                <dbl> 108079, 65432, 9721138, 482650, 1628997, 8978…\n$ plumbing                 <dbl> 93, 2440, 6195, 148, 808, 18, 128, 0, 123, 13…\n$ percent_lacking_plumbing <dbl> 0.08604817, 3.72906223, 0.06372711, 0.0306640…\n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(water_insecurity_2023)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 854\nColumns: 7\n$ geoid                    <chr> \"01003\", \"01069\", \"06037\", \"06087\", \"06097\", …\n$ name                     <chr> \"Baldwin County, Alabama\", \"Houston County, A…\n$ year                     <dbl> 2023, 2023, 2023, 2023, 2023, 2023, 2023, 202…\n$ geometry                 <chr> \"list(list(c(765297.99052762, 765703.76567671…\n$ total_pop                <dbl> 253507, 108462, 9663345, 261547, 481812, 1155…\n$ plumbing                 <dbl> 271, 30, 5248, 187, 308, 517, 4, 198, 1269, 8…\n$ percent_lacking_plumbing <dbl> 0.106900401, 0.027659457, 0.054308317, 0.0714…\n```\n\n\n:::\n:::\n\n\n\n\nFor the final project, we selected the U.S. Water Insecurity dataset from TidyTuesday (2025-01-28). The 2022 and 2023 datasets were collected by the U.S. Census Bureau's American Community Survey (ACS). Each dataset provides comprehensive county-level information, including geographic boundaries, population size, the number of households lacking plumbing, and the percentage of the population lacking plumbing facilities.\n\nThe two datastes includes variables such as:\n\n-   geoid: The U.S. Census Bureau ACS county id.\n\n-   name: The U.S. Census Bureau ACS county name.\n\n-   year: The year of U.S. Census Bureau ACS sample.\n\n-   geometry: The county geographic boundaries.\n\n-   total_pop: The total population.\n\n-   plumbing: The total owner occupied households lacking plumbing facilities.\n\n-   percent_lacking_plumbing: The percent of population lacking plumbing facilities.\n\n    ## water_insecurity_2022_data\n\n\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    table1 <- tibble(\n      variable = c(\"geoid\", \"name\",\"geometry\", \"year\",\"total_pop\",\"plumbing\",\"percent_lacking_plumbing\"),\n      types = c(\"character\", \"character\",\"character\", \"numeric\",\"numeric\",\"numeric\",\"numeric\"),\n      missing_count = c(0,0,0,0,0,2,2),\n      missing_percent = c(0,0,0,0,0,0.23585,0.23585))\n    table1\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    \n    ```\n    # A tibble: 7 × 4\n      variable                 types     missing_count missing_percent\n      <chr>                    <chr>             <dbl>           <dbl>\n    1 geoid                    character             0           0    \n    2 name                     character             0           0    \n    3 geometry                 character             0           0    \n    4 year                     numeric               0           0    \n    5 total_pop                numeric               0           0    \n    6 plumbing                 numeric               2           0.236\n    7 percent_lacking_plumbing numeric               2           0.236\n    ```\n    \n    \n    :::\n    :::\n\n\n\n\n    ## water_insecurity_2023_data\n\n\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    table2 <- tibble(\n      variable = c(\"geoid\", \"name\",\"geometry\", \"year\",\"total_pop\",\"plumbing\",\"percent_lacking_plumbing\"),\n      types = c(\"character\", \"character\",\"character\", \"numeric\",\"numeric\",\"numeric\",\"numeric\"),\n      missing_count = c(0,0,0,0,0,1,1),\n      missing_percent = c(0,0,0,0,0,0.1171,0.1171))\n    table2\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    \n    ```\n    # A tibble: 7 × 4\n      variable                 types     missing_count missing_percent\n      <chr>                    <chr>             <dbl>           <dbl>\n    1 geoid                    character             0           0    \n    2 name                     character             0           0    \n    3 geometry                 character             0           0    \n    4 year                     numeric               0           0    \n    5 total_pop                numeric               0           0    \n    6 plumbing                 numeric               1           0.117\n    7 percent_lacking_plumbing numeric               1           0.117\n    ```\n    \n    \n    :::\n    :::\n\n\n\n\n    These two datasets contain data on the lack of complete indoor plumbing in U.S. counties for the years 2022 and 2023. The 2022 dataset includes information from 848 counties, while the 2023 dataset includes 854 counties. Each dataset contains seven variables: geoid, name, geometry, year, total_pop, plumbing, percent_lacking_plumbing. The columns plumbing and percent_lacking_plumbing have a small number of missing values—less than 0.3%—which does not significantly impact the overall analysis.\n\n## Why we chose this data-set:\n\nWe chose this dataset because water insecurity is a critical public health issue that may be influenced by various social vulnerability indicators. The data, sourced from the American Community Survey (ACS), provides county-level information on indoor plumbing insecurity for both 2022 and 2023. Since it covers multiple counties and spans two years, it is well-suited for analyzing year-over-year trends and regional disparities across the U.S. Additionally, the dataset is clean, complete, well-documented, and ideal for collaborative analysis and visualization.\n\n## Question:\n\nThe two questions to be answered are:\n\nQuestion 1: Top counties had the highest plumbing insecurity in 2022 and 2023.\n\nQuestion 2: How did plumbing insecurity change between 2022 and 2023 for each county?\n\n## Analysis plan\n\nThe following are the approaches we will be using for each question.\n\n## **Approach for question 1**\n\n-   We want to visualize which U.S. counties experienced the highest level of plumbing insecurity in 2022 and 2023. To represent the available data best, we will be creating bar graphs showing the top 10 counties with the highest percentages of households lacking complete indoor plumbing for each year. The comparison of the plot will be done for each individual year to highlight the most affected regions in the U.S.\n\n    We will clean the data using dplyr package by filtering and selecting the required variables for the analysis, including name, percent_lacking_plumbing, and year. We will sort the counties in descending order of percent_lacking_plumbing for each year. And the Top 10 counties for both 2022 and 2023 will be selected and combined into a single dataset for the visualization.\n\n    To visualize the results, we will use geom_col() from ggplot2 package to create bar graph, showing comparison between 2022 and 2023 using facet separation. These plots will allow us to address our first research question by identifying the top 10 counties with plumbing insecurity in the U.S and comparing the top-affected regions between 2022 and 2023.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}